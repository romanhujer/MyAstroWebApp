<?php
header("Access-Control-Allow-Origin: https://astro.hujer.net");
header("Content-Type: text/html; charset=utf-8");

$posts = json_decode(file_get_contents("https://hujer.net/wp-json/wp/v2/posts?_embed&per_page=2"));
?>
<html>
<head>
<style>

/* tady vložíš css */
.excerpt, 
.excerpt * {
    color: #bbb !important;

}

h2 a {
    color: #0066cc !important;
}

body {
    font-family: Arial, sans-serif;
    margin: 20px;
    line-height: 1.6;
}

article {
    margin-bottom: 40px;
    padding-bottom: 25px;
    border-bottom: 1px solid #ddd;
}

img {
    max-width: 100%;
    height: auto;
    border-radius: 6px;
    margin: 10px 0 15px 0;
}

.readmore {
    display: inline-block;
    margin-top: 10px;
    padding: 6px 12px;
    background: #0066cc;
    color: white !important;
    text-decoration: none;
    border-radius: 4px;
}

.readmore:hover {
    background: #004c99;
}

</style>
</head>


<body style="background: black; font-size: 24px;">
<?php
foreach ($posts as $post) {
    $title = $post->title->rendered;
    $link = $post->link;
    $excerpt = $post->excerpt->rendered;

    $image = "";
    if (!empty($post->_embedded["wp:featuredmedia"][0]->source_url)) {
        $image = $post->_embedded["wp:featuredmedia"][0]->source_url;
    }

    echo "<article>";
    echo "<h2><a href='$link' target='_blank'>$title</a></h2>";

    if ($image) {
        echo "<img src='$image'>";
    }

    echo "<div class='excerpt'>$excerpt</div>";
    echo "<a class='readmore' href='$link' target='_blank'>Číst dál</a>";
    echo "</article>";
}
?>
</body>
</html>
